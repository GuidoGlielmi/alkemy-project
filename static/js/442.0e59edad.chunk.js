"use strict";(self.webpackChunkskill_up_react_ii=self.webpackChunkskill_up_react_ii||[]).push([[442],{2442:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(2982),i=t(885),s=t(2791),a=t(7449),c=t(8097),o=t(5705),l=t(4929),u=t(9617),d=(t(5462),t(1405)),h=t(2268),m="TaskForm_formContainer__EXmy8",f=t(184),p="* Campo obligatorio",v=function(){return l.Ry().shape({title:l.Z_().min(6,(e=6,"Ingrese m\xe1s de ".concat(e-1," caracteres"))).required(p),status:l.Z_().required(p),importance:l.Z_().required(p),description:l.Z_().required(p)});var e},x={title:"",status:"",importance:"",description:""};function j(){var e=(0,d.I0)(),n=(0,d.v9)((function(e){return e})),t=n.statuses,r=n.priorities;return(0,f.jsxs)("section",{className:m,children:[(0,f.jsx)("h2",{children:"Crear tarea"}),(0,f.jsx)(o.J9,{initialValues:x,validationSchema:v,validateOnChange:!1,onSubmit:function(n,t){var r=t.resetForm;return e((0,h.gI)(n,r))},children:(0,f.jsxs)(o.l0,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(o.gN,{name:"title",component:a.Z,placeholder:"Ingrese el t\xedtulo",children:"T\xedtulo"}),(0,f.jsx)(o.gN,{name:"status",placeholder:"Seleccione un estado",component:c.Z,options:t,children:"Estado"}),(0,f.jsx)(o.gN,{name:"importance",component:c.Z,placeholder:"Seleccione una prioridad",options:r,children:"Prioridad"}),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)("label",{htmlFor:"description",children:"Descripci\xf3n"}),(0,f.jsx)(o.gN,{name:"description",as:"textarea",placeholder:"Ingrese una descripci\xf3n",cols:"30",rows:"10",id:"description",children:"Prioridad"})]})]}),(0,f.jsx)(u.Z,{type:"submit",children:"Enviar"})]})})]})}var g=t(4802),_=t(4942),k=t(1413),y=t(5987),Z=["count","wrapper","className","containerClassName","containerTestId","circle","style"],b=s.createContext({});function C(e){for(var n,t,r,a=e.count,c=void 0===a?1:a,o=e.wrapper,l=e.className,u=e.containerClassName,d=e.containerTestId,h=e.circle,m=void 0!==h&&h,f=e.style,p=(0,y.Z)(e,Z),v=s.useContext(b),x=(0,k.Z)({},p),j=0,g=Object.entries(p);j<g.length;j++){var _=(0,i.Z)(g[j],2),C=_[0];"undefined"===typeof _[1]&&delete x[C]}var N=(0,k.Z)((0,k.Z)((0,k.Z)({},v),x),{},{circle:m}),T=(0,k.Z)((0,k.Z)({},f),function(e){var n=e.baseColor,t=e.highlightColor,r=e.width,i=e.height,s=e.borderRadius,a=e.circle,c=e.direction,o=e.duration,l=e.enableAnimation,u=void 0===l||l,d={};return"rtl"===c&&(d["--animation-direction"]="reverse"),"number"===typeof o&&(d["--animation-duration"]="".concat(o,"s")),u||(d["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(d.width=r),"string"!==typeof i&&"number"!==typeof i||(d.height=i),"string"!==typeof s&&"number"!==typeof s||(d.borderRadius=s),a&&(d.borderRadius="50%"),"undefined"!==typeof n&&(d["--base-color"]=n),"undefined"!==typeof t&&(d["--highlight-color"]=t),d}(N)),S="react-loading-skeleton";l&&(S+=" ".concat(l));for(var w=null!==(n=N.inline)&&void 0!==n&&n,E=[],I=Math.ceil(c),P=0;P<I;P++){var A=T;if(I>c&&P===I-1){var L=null!==(t=A.width)&&void 0!==t?t:"100%",O=c%1,D="number"===typeof L?L*O:"calc(".concat(L," * ").concat(O,")");A=(0,k.Z)((0,k.Z)({},A),{},{width:D})}var M=s.createElement("span",{className:S,style:A,key:P},"\u200c");w?E.push(M):E.push(s.createElement(s.Fragment,{key:P},M,s.createElement("br",null)))}return s.createElement("span",{className:u,"data-testid":d,"aria-live":"polite","aria-busy":null===(r=N.enableAnimation)||void 0===r||r},o?E.map((function(e,n){return s.createElement(o,{key:n},e)})):E)}var N="Card_card__MShTi",T="Card_description__BPnFi",S=["rgb(219, 0, 0)","rgb(200, 200, 0)","rgb(38, 0, 219)"],w=function(e){return(new Date).toString(e).split("(")[0]};function E(e){var n=e.task,t=n._id,r=n.title,a=n.status,c=n.importance,o=n.createdAt,l=n.modifiedAt,m=n.description,p=n.user,v=(0,d.I0)(),x=(0,d.v9)((function(e){return e})),j=x.statuses,g=x.priorities,_=(0,s.useState)(!1),k=(0,i.Z)(_,2),y=k[0],Z=k[1],b=(0,s.useMemo)((function(){return w(o)}),[o]),C=(0,s.useMemo)((function(){return w(l)}),[l]);return(0,f.jsxs)("div",{className:N,children:[(0,f.jsx)("h3",{children:r}),(0,f.jsxs)("time",{dateTime:b,children:[(0,f.jsx)("u",{children:"Creado"}),": ",b]}),(0,f.jsxs)("time",{dateTime:C,children:[(0,f.jsx)("u",{children:"\xdaltima modificaci\xf3n"}),": ",C]}),(0,f.jsxs)("h5",{children:["Creado por: ",p.userName]}),(0,f.jsxs)("div",{children:[(0,f.jsx)(u.Z,{size:"small",color:S[j.indexOf(a)],action:function(){var e=j.indexOf(a),n=e+1===j.length?j[0]:j[e+1];v((0,h.xJ)(t,{status:n}))},children:a}),(0,f.jsx)(u.Z,{size:"small",color:S[g.indexOf(c)],action:function(){var e=g.indexOf(c),n=e+1===g.length?g[0]:g[e+1];v((0,h.xJ)(t,{importance:n}))},children:c})]}),(0,f.jsx)("button",{title:F(m.length<100).return("").elseWhen(y).return("Ver menos").else("Ver m\xe1s"),className:T,type:"button",onClick:function(){return m.length>100&&Z((function(e){return!e}))},style:{cursor:m.length>100?"pointer":"default"},children:m.length<100||y?m:"".concat(m.slice(0,99),"...")}),(0,f.jsx)("button",{id:"delete",type:"button",onClick:function(){return v((0,h._5)(t))},children:"X"})]})}var I="TaskGroup_group__l4ExK";function P(e){var n=e.status,t=e.tasks;return(0,f.jsxs)("div",{className:I,children:[(0,f.jsx)("h3",{children:n}),(0,f.jsx)("div",{children:t.map((function(e){return(0,f.jsx)(E,{task:e},e._id)}))})]})}var A={tasks:"Tasks_tasks__dodve",skeleton:"Tasks_skeleton__VPWhW",skeletonDevice:"Tasks_skeletonDevice__reCtC"},L=window.innerWidth<768;function O(e){var n=e.selectedPriority,t=e.searchKey,a=(0,d.v9)((function(e){return e})).tasks,c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,s.useState)(!0),t=(0,i.Z)(n,2),r=t[0],a=t[1];return(0,s.useEffect)((function(){e&&r&&a(!1)}),[e,r]),r}(a.length);return(0,f.jsx)("div",{className:A.tasks,children:F(c).return((0,f.jsx)(D,{amount:3})).elseWhen(!a.length).return((0,f.jsx)("span",{children:"No se han creado tareas"})).else(M(function(){var e=(0,r.Z)(a);return"ALL"!==n&&(e=e.filter((function(e){return e.importance===n}))),t&&(e=e.filter((function(e){return e.title.includes(t)}))),e}()).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return r?(0,f.jsx)(P,{status:t,tasks:r},t):t})))})}var D=function(e){var n=e.amount;return(0,f.jsx)("div",{className:A[L?"skeletonDevice":"skeleton"],children:Array(n).fill((0,f.jsx)(C,{height:"50vh",width:L?"90vw":"30vw"})).map((function(e,n){return(0,f.jsx)(s.Fragment,{children:e},n)}))})};function M(e){if(!e.length)return[[(0,f.jsx)("p",{style:{margin:"5vh auto 15vh"},children:"No se han encontrado tareas"})]];var n=e.reduce((function(e,n){return(0,k.Z)((0,k.Z)({},e),{},(0,_.Z)({},n.status,[].concat((0,r.Z)(e[n.status]||[]),[n])))}),{});return Object.entries(n).sort((function(e,n){var t=(0,i.Z)(e,1),r=(0,i.Z)(t[0],1)[0],s=(0,i.Z)(n,1);return r<(0,i.Z)(s[0],1)[0]}))}var F=function e(n,t){return{elseWhen:function(r){return e(n||r,t)},return:function(r){return e(n,!0===n?null!==t&&void 0!==t?t:r:null)},else:function(e){return null!==t&&void 0!==t?t:e},get:t}},W="Tasks_tasksPage__Vl8OS",K="Tasks_tasksContainer__3v5Dr",V="Tasks_filterContainer__hriMA",q="Tasks_selectPriority__OpE+-",R=["ALL","MINE"];function B(){var e=(0,g.I0)(),n=(0,g.v9)((function(e){return e})),t=n.isLoggedIn,r=n.teamID,a=(0,s.useState)("ALL"),c=(0,i.Z)(a,2),o=c[0],l=c[1],u=(0,s.useState)(""),d=(0,i.Z)(u,2),m=d[0],p=d[1];return(0,s.useEffect)((function(){t&&e((0,h.km)())}),[e,t]),(0,f.jsxs)("main",{className:W,children:[(0,f.jsxs)("h3",{children:["Team id: ",r]}),(0,f.jsx)(j,{}),(0,f.jsxs)("section",{className:K,children:[(0,f.jsx)("h2",{children:"Mis Tareas"}),(0,f.jsx)(J,{selectedPriority:o,setSelectedPriority:l,setSearchKey:p}),(0,f.jsx)(O,{searchKey:m,selectedPriority:o})]})]})}function J(e){var n=e.selectedPriority,t=e.setSelectedPriority,i=e.setSearchKey,s=(0,g.I0)(),a=(0,g.v9)((function(e){return e})),c=a.taskByCreator,o=a.priorities;return(0,f.jsxs)("div",{className:V,children:[(0,f.jsx)(z,{title:"Seleccionar por creador:",elements:R,action:function(e){return s((0,h._A)(e))},comparator:c,name:"creator"}),(0,f.jsx)(z,{title:"Seleccionar por prioridad:",elements:["ALL"].concat((0,r.Z)(o)),action:function(e){return t(e)},comparator:n,name:"priorities"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"Buscar por t\xedtulo"}),(0,f.jsx)("input",{onChange:function(e){return function(e,n){var t,r=!1;return function(){r&&clearTimeout(t),t=setTimeout((function(){r=!1,e()}),n),r=!0}}((function(){return i(e.target.value)}),100)()}})]})]})}var z=function(e){var n=e.title,t=e.elements,r=e.action,i=e.comparator,s=e.name;return(0,f.jsxs)("fieldset",{className:q,children:[(0,f.jsx)("legend",{children:n}),(0,f.jsx)("div",{children:t.map((function(e){return(0,f.jsx)(X,{tag:e,name:s,action:function(){return r(e)},checked:i===e},e)}))})]})},X=function(e){var n=e.tag,t=e.action,r=e.name,i=e.checked;return(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{onChange:t,checked:i,name:r,type:"radio"}),(0,f.jsx)("span",{children:n})]})}}}]);
//# sourceMappingURL=442.0e59edad.chunk.js.map